/*
 * Expression_Binary_VVmul.h
 *
 *  Created on: Dec 20, 2017
 *      Author: joseph
 */

#ifndef EXPRESSION_BINARY_VVMUL_H_
#define EXPRESSION_BINARY_VVMUL_H_

#include "../BlackCat_Global_Unifier.h"
#include <cmath>

template<
	class T,
	class COL_VECTOR,
	class ROW_VECTOR
>
struct binary_expression_VVmul_outer : expression<T, binary_expression_VVmul_outer<T, COL_VECTOR, ROW_VECTOR>>{

	/*
	 * Outer product
	 */

	COL_VECTOR vecL;
	ROW_VECTOR vecR;

	binary_expression_VVmul_outer(V1 lv, V2 rv) : vecL(lv), vecR(rv) {}
	binary_expression_VVmul_outer(const binary_expression_VVmul_outer&) = default;

	T operator [] (int index) const {
		return vecL[std::ceil(index / vecL.rows())] * vecR[index % vecR.cols()];
	}


};



#endif /* EXPRESSION_BINARY_VVMUL_H_ */
